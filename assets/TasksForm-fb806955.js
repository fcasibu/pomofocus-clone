import{s as t,a as e,c as o,m as n,n as a,e as i,o as s,p as r,q as l,b as d,r as c,j as u,t as p,i as m,I as h,v as b,w as f,x,y as g}from"./index-753848fa.js";const k={ButtonsContainer:t.div.withConfig({displayName:"TasksForm__ButtonsContainer",componentId:"sc-59ktvn-0"})(["align-items:center;display:flex;gap:",";button{all:unset;background-color:",";border:1px solid ",";border-radius:4px;box-shadow:inset 0 -3px ",";color:",";cursor:pointer;font-size:16px;font-weight:500;padding:6px ",";text-align:center;text-transform:uppercase;&:focus-visible{outline:auto;}&:active{box-shadow:unset;transform:scaleY(0.94) translateY(2px);}}"],e.XXXXS,o.WHITE,o.TRANSPARENT_BLACK,o.TRANSPARENT_BLACK,o.LIGHTER_GREY,e.XXS),Form:t.form.withConfig({displayName:"TasksForm__Form",componentId:"sc-59ktvn-1"})([""," max-width:400px;"],n),Footer:t.div.withConfig({displayName:"TasksForm__Footer",componentId:"sc-59ktvn-2"})([""," align-items:center;display:flex;justify-content:space-between;button{all:unset;color:",";cursor:pointer;font-size:14px;font-weight:600;&:focus-visible{outline:auto;}}> div:last-child{display:flex;gap:",";> button:last-child{all:unset;background-color:",";border-radius:4px;color:",";cursor:pointer;display:block;font-size:12px;margin-left:auto;min-width:42px;opacity:0.8;padding:",";text-align:center;&:hover{opacity:0.9;}&:focus-visible{outline:auto;}&:disabled{background-color:",";color:",";cursor:unset;opacity:1;}}}"],a,o.LIGHT_GREY,e.S,o.BLACK,o.WHITE,e.XXS,o.LIGHTER_GREY,o.BLACK),Input:t.input.withConfig({displayName:"TasksForm__Input",componentId:"sc-59ktvn-3"})(["all:unset;color:",";font-size:18px;font-weight:600;padding:"," 0;width:100%;&::placeholder{color:",";font-size:18px;font-style:italic;font-weight:600;opacity:0.6;}"],o.LIGHT_GREY,e.M,o.LIGHTER_GREY),NoteContainer:t.div.withConfig({displayName:"TasksForm__NoteContainer",componentId:"sc-59ktvn-4"})(["margin-bottom:",";> button{all:unset;color:",";cursor:pointer;font-size:13px;text-decoration:underline;&:focus-visible{outline:auto;}}"],e.XS,o.LIGHTER_GREY),StepperContainer:t.div.withConfig({displayName:"TasksForm__StepperContainer",componentId:"sc-59ktvn-5"})(["display:flex;flex-direction:column;gap:",";margin-bottom:",";> label{color:",";font-size:14px;font-weight:600;user-select:none;width:max-content;}> div{align-items:center;display:flex;gap:",";}input{max-width:70px;}"],e.XXXS,e.XS,o.LIGHTER_GREY,e.XXXS)};function v({taskItem:t}){const{update:e,add:o,deleteTask:n}=i((t=>({update:t.editTask,add:t.addTask,deleteTask:t.deleteTask})),s),{register:a,handleSubmit:v,setValue:y,getValues:C,formState:{isValid:T}}=r({defaultValues:t?{...t}:{estimatedPomodoros:1},mode:"onChange",resolver:l(g)}),w=d((t=>t.close)),[I,_]=c.useState(!!(null==t?void 0:t.note)),E=t=>()=>{const e="increase"===t?C("estimatedPomodoros")+1:Math.max(1,C("estimatedPomodoros")-1);y("estimatedPomodoros",e)};return u(p,{children:m(k.Form,{onSubmit:v((n=>{t?e(t.id,n):o(n),w()})),children:[u(k.Input,{placeholder:"What are you working on?",...a("title")}),m(k.StepperContainer,{children:[u("label",{htmlFor:"estPomodoros","aria-label":"Estimated Pomodoros",children:"Est Pomodoros"}),m("div",{children:[u(h,{id:"estPomodoros",type:"number",...a("estimatedPomodoros",{valueAsNumber:!0})}),m(k.ButtonsContainer,{children:[u("button",{type:"button",onClick:E("increase"),"aria-label":"Increase Estimated Pomodoros",children:u(b,{})}),u("button",{type:"button",onClick:E("decrease"),"aria-label":"Decrease Estimated Pomodoros",children:u(f,{})})]})]})]}),u(k.NoteContainer,{children:I?u(x,{placeholder:"Some notes..",...a("note"),defaultValue:C("note")}):u("button",{type:"button",onClick:()=>{_((t=>!t))},children:"+ Add Note"})}),m(k.Footer,{children:[u("div",{children:!!t&&u("button",{type:"button",onClick:()=>{t&&n(null==t?void 0:t.id),w()},children:"Delete"})}),m("div",{children:[u("button",{type:"button",onClick:w,children:"Cancel"}),u("button",{type:"submit",disabled:!T,children:"Save"})]})]})]})})}export{v as TasksForm,v as default};
