import{s as o,a as e,c as t,m as n,n as a,e as i,o as s,p as r,q as l,b as d,r as c,j as u,t as p,i as m,I as b,v as h,w as f,x,y as g}from"./index-2b7396da.js";const k={ButtonsContainer:o.div.withConfig({displayName:"TasksForm__ButtonsContainer",componentId:"sc-59ktvn-0"})(["align-items:center;display:flex;gap:",";button{all:unset;background-color:",";border:1px solid ",";border-radius:4px;box-shadow:inset 0 -3px ",";color:",";cursor:pointer;font-size:16px;font-weight:500;padding:6px ",";text-align:center;text-transform:uppercase;&:focus-visible{outline:auto;}&:active{box-shadow:unset;transform:scaleY(0.94) translateY(2px);}}"],e.XXXXS,t.WHITE,t.TRANSPARENT_BLACK,t.TRANSPARENT_BLACK,t.LIGHTER_GREY,e.XXS),Form:o.form.withConfig({displayName:"TasksForm__Form",componentId:"sc-59ktvn-1"})([""," max-width:400px;"],n),Footer:o.div.withConfig({displayName:"TasksForm__Footer",componentId:"sc-59ktvn-2"})([""," align-items:center;display:flex;justify-content:space-between;button{all:unset;color:",";cursor:pointer;font-size:14px;font-weight:600;&:focus-visible{outline:auto;}}> div:last-child{display:flex;gap:",";> button:last-child{all:unset;background-color:",";border-radius:4px;color:",";cursor:pointer;display:block;font-size:12px;margin-left:auto;min-width:42px;opacity:0.8;padding:",";text-align:center;&:hover{opacity:0.9;}&:focus-visible{outline:auto;}&:disabled{background-color:",";color:",";cursor:unset;opacity:1;}}}"],a,t.LIGHT_GREY,e.S,t.BLACK,t.WHITE,e.XXS,t.LIGHTER_GREY,t.BLACK),Input:o.input.withConfig({displayName:"TasksForm__Input",componentId:"sc-59ktvn-3"})(["all:unset;color:",";font-size:18px;font-weight:600;padding:"," 0;width:100%;&::placeholder{color:",";font-size:18px;font-style:italic;font-weight:600;opacity:0.6;}"],t.LIGHT_GREY,e.M,t.LIGHTER_GREY),NoteContainer:o.div.withConfig({displayName:"TasksForm__NoteContainer",componentId:"sc-59ktvn-4"})(["margin-bottom:",";> button{all:unset;color:",";cursor:pointer;font-size:13px;text-decoration:underline;&:focus-visible{outline:auto;}}"],e.XS,t.LIGHTER_GREY),StepperContainer:o.div.withConfig({displayName:"TasksForm__StepperContainer",componentId:"sc-59ktvn-5"})(["display:flex;flex-direction:column;gap:",";margin-bottom:",";> label{color:",";font-size:14px;font-weight:600;user-select:none;width:max-content;}> div{align-items:center;display:flex;gap:",";}input{max-width:70px;}"],e.XXXS,e.XS,t.LIGHTER_GREY,e.XXXS)};function v({taskItem:o}){const{update:e,add:t,deleteTask:n}=i((o=>({update:o.editTask,add:o.addTask,deleteTask:o.deleteTask})),s),{register:a,handleSubmit:v,setValue:y,getValues:C,formState:{isValid:T}}=r({defaultValues:o?{...o}:{estimatedPomodoros:1},mode:"onChange",resolver:l(g)}),w=d((o=>o.close)),[I,_]=c.useState(!!(null==o?void 0:o.note)),E=o=>()=>{const e="increase"===o?C("estimatedPomodoros")+1:Math.max(1,C("estimatedPomodoros")-1);y("estimatedPomodoros",e)};return u(p,{children:m(k.Form,{onSubmit:v((n=>{o?e(o.id,n):t(n),w()})),"aria-label":"Task Form",role:"dialog","aria-modal":"true",children:[u(k.Input,{placeholder:"What are you working on?",...a("title")}),m(k.StepperContainer,{children:[u("label",{htmlFor:"estPomodoros","aria-label":"Estimated Pomodoros",children:"Est Pomodoros"}),m("div",{children:[u(b,{id:"estPomodoros",type:"number",...a("estimatedPomodoros",{valueAsNumber:!0})}),m(k.ButtonsContainer,{children:[u("button",{type:"button",onClick:E("increase"),"aria-label":"Increase Estimated Pomodoros",children:u(h,{})}),u("button",{type:"button",onClick:E("decrease"),"aria-label":"Decrease Estimated Pomodoros",children:u(f,{})})]})]})]}),u(k.NoteContainer,{children:I?u(x,{placeholder:"Some notes..",...a("note"),defaultValue:C("note")}):u("button",{type:"button",onClick:()=>{_((o=>!o))},children:"+ Add Note"})}),m(k.Footer,{children:[u("div",{children:!!o&&u("button",{type:"button",onClick:()=>{o&&n(null==o?void 0:o.id),w()},children:"Delete"})}),m("div",{children:[u("button",{type:"button",onClick:w,children:"Cancel"}),u("button",{type:"submit",disabled:!T,children:"Save"})]})]})]})})}export{v as TasksForm,v as default};
